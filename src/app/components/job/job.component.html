<div class="add-job-main-div">
  <p-card [header]="'ADD_JOB' | translate">
    <div class="p-fluid">
      <div class="p-field p-col-12" style="margin: 2% 0%;">
        <label for="carId">{{ 'CAR_ID' | translate }}</label>
        <input id="carId" style="margin: 10px 0px;" pInputText [(ngModel)]="carId" />
      </div>
      <div class="p-field p-col-12" style="margin: 2% 0%;">
        <label for="description">{{ 'DESCRIPTION' | translate }}</label>
        <textarea rows="5" cols="30" style="margin: 10px 0px;" pInputTextarea [(ngModel)]="description"></textarea>
      </div>
      <div class="p-field p-col-12" style="margin: 2% 0%;">
        <label for="status">{{ 'STATUS' | translate }}</label>
        <p-dropdown class="mt-3" [options]="statuses" [(ngModel)]="status"></p-dropdown>
      </div>
      <div class="p-col-12 " style="display: flex; justify-content: center;">
        <button class="p-button-success" style="width: 50%;" pButton type="button" (click)="addJob()"
          [label]="'ADD_JOB' | translate"></button>
      </div>
    </div>
  </p-card>
</div>

<div class="job-list-main-div">
  <p-card [header]="'JOBS_LIST' | translate">
    <p-table [value]="jobs" [paginator]="true" [rows]="10">
      <ng-template pTemplate="header">
        <tr>
          <th>{{ 'CAR_ID' | translate }}</th>
          <th>{{ 'DESCRIPTION' | translate }}</th>
          <th>{{ 'STATUS' | translate }}</th>
          <th>{{ 'ACTIONS' | translate }}</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-job>
        <tr>
          <td>{{ job.carId }}</td>
          <td>{{ job.description }}</td>
          <td>
            <p-dropdown [options]="statuses" [(ngModel)]="job.status" (onChange)="updateStatus(job, $event.value)">
            </p-dropdown>
          </td>
          <td>
            <button pButton icon="pi pi-trash" (click)="deleteJob(job)" class="p-button-danger"
              [pTooltip]="'DELETE' | translate"></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </p-card>
</div>